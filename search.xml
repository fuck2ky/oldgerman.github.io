<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2019%2F07%2F23%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>default</category>
      </categories>
      <tags>
        <tag>default</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[小米平板1-ubuntu系统_bluetooth篇]]></title>
    <url>%2F2019%2F07%2F20%2F190620-bluetooth%2F</url>
    <content type="text"><![CDATA[CSR8510蓝牙适配器：驱动模块编译/开机自动加载配置好./config文件后：123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197root@tegra-ubuntu:/usr/src/kernel# make modules LD [M] crypto/md4.ko LD [M] crypto/sha256_generic.ko LD [M] crypto/tcrypt.ko LD [M] crypto/twofish_common.ko LD [M] crypto/twofish_generic.ko LD [M] drivers/bluetooth/bcm203x.ko LD [M] drivers/bluetooth/bfusb.ko LD [M] drivers/bluetooth/bpa10x.ko LD [M] drivers/bluetooth/broadcom/bt_protocol_driver/brcm_bt_drv.ko LD [M] drivers/bluetooth/broadcom/v4l2_fm_driver/fm_drv.ko LD [M] drivers/bluetooth/broadcom/line_discipline_driver/brcm_hci_ldisc.ko LD [M] drivers/bluetooth/btusb.ko LD [M] drivers/bluetooth/hci_uart.ko LD [M] drivers/input/joystick/xpad.ko LD [M] drivers/input/joydev.ko LD [M] drivers/media/platform/soc_camera/soc_camera_platform.ko LD [M] drivers/media/usb/gspca/gspca_main.ko LD [M] drivers/media/platform/soc_camera/tegra_camera/tegra_camera.ko LD [M] drivers/media/v4l2-core/videobuf2-dma-contig.ko LD [M] drivers/net/ppp/bsd_comp.ko LD [M] drivers/net/ppp/ppp_async.ko LD [M] drivers/net/ppp/ppp_deflate.ko LD [M] drivers/net/ppp/ppp_generic.ko LD [M] drivers/net/ppp/ppp_mppe.ko LD [M] drivers/net/ppp/ppp_synctty.ko LD [M] drivers/net/ppp/pppolac.ko LD [M] drivers/net/ppp/pppopns.ko LD [M] drivers/net/ppp/pppox.ko LD [M] drivers/net/usb/raw_ip_net.ko LD [M] drivers/net/slip/slhc.ko LD [M] drivers/usb/class/cdc-acm.ko LD [M] drivers/usb/class/cdc-wdm.ko LD [M] drivers/usb/gadget/g_ether.ko LD [M] drivers/usb/gadget/g_mass_storage.ko LD [M] drivers/usb/gadget/libcomposite.ko LD [M] drivers/usb/serial/baseband_usb_chr.ko LD [M] drivers/video/tegra/host/vi/nvhost-vi.ko LD [M] fs/cifs/cifs.ko LD [M] net/bluetooth/bluetooth.ko LD [M] fs/configfs/configfs.ko LD [M] net/bluetooth/bnep/bnep.ko LD [M] net/bluetooth/hidp/hidp.ko LD [M] net/bluetooth/rfcomm/rfcomm.ko LD [M] net/rfkill/rfkill-gpio.koroot@tegra-ubuntu:/usr/src/kernel# root@tegra-ubuntu:/usr/src/kernel# make modules_install INSTALL crypto/md4.ko INSTALL crypto/sha256_generic.ko INSTALL crypto/tcrypt.ko INSTALL crypto/twofish_common.ko INSTALL crypto/twofish_generic.ko# INSTALL drivers/bluetooth/bcm203x.ko# INSTALL drivers/bluetooth/bfusb.ko# INSTALL drivers/bluetooth/bpa10x.ko# INSTALL drivers/bluetooth/broadcom/bt_protocol_driver/brcm_bt_drv.ko# INSTALL drivers/bluetooth/broadcom/line_discipline_driver/brcm_hci_ldisc.ko# INSTALL drivers/bluetooth/broadcom/v4l2_fm_driver/fm_drv.ko# INSTALL drivers/bluetooth/btusb.ko# INSTALL drivers/bluetooth/hci_uart.ko INSTALL drivers/input/joydev.ko INSTALL drivers/input/joystick/xpad.ko INSTALL drivers/media/platform/soc_camera/soc_camera_platform.ko INSTALL drivers/media/platform/soc_camera/tegra_camera/tegra_camera.ko INSTALL drivers/media/usb/gspca/gspca_main.ko INSTALL drivers/media/v4l2-core/videobuf2-dma-contig.ko INSTALL drivers/net/ppp/bsd_comp.ko INSTALL drivers/net/ppp/ppp_async.ko INSTALL drivers/net/ppp/ppp_deflate.ko INSTALL drivers/net/ppp/ppp_generic.ko INSTALL drivers/net/ppp/ppp_mppe.ko INSTALL drivers/net/ppp/ppp_synctty.ko INSTALL drivers/net/ppp/pppolac.ko INSTALL drivers/net/ppp/pppopns.ko INSTALL drivers/net/ppp/pppox.ko INSTALL drivers/net/slip/slhc.ko INSTALL drivers/net/usb/raw_ip_net.ko INSTALL drivers/usb/class/cdc-acm.ko INSTALL drivers/usb/class/cdc-wdm.ko INSTALL drivers/usb/gadget/g_ether.ko INSTALL drivers/usb/gadget/g_mass_storage.ko INSTALL drivers/usb/gadget/libcomposite.ko INSTALL drivers/usb/serial/baseband_usb_chr.ko INSTALL drivers/video/tegra/host/vi/nvhost-vi.ko INSTALL fs/cifs/cifs.ko INSTALL fs/configfs/configfs.ko# INSTALL net/bluetooth/bluetooth.ko# INSTALL net/bluetooth/bnep/bnep.ko# INSTALL net/bluetooth/hidp/hidp.ko# INSTALL net/bluetooth/rfcomm/rfcomm.ko#? INSTALL net/rfkill/rfkill-gpio.ko DEPMOD 3.10.40-gc5d0751# ^^^^^^^^^^^^^^^^--------------------------------------------# rc.local脚本:# 加载顺序自下而上：insmod '/usr/src/kernel/net/bluetooth/bluetooth.ko'insmod '/usr/src/kernel/net/rfkill/rfkill-gpio.ko'insmod '/usr/src/kernel/net/bluetooth/rfcomm/rfcomm.ko'insmod '/lib/modules/3.10.40-gc5d0751/kernel/drivers/bluetooth/btusb.ko' insmod '/usr/src/kernel/drivers/bluetooth/hci_uart.ko' insmod '/usr/src/kernel/drivers/bluetooth/bcm203x.ko'insmod '/usr/src/kernel/drivers/bluetooth/bfusb.ko'insmod '/usr/src/kernel/drivers/bluetooth/bpa10x.ko'insmod '/usr/src/kernel/net/bluetooth/bnep/bnep.ko' insmod '/usr/src/kernel/net/bluetooth/hidp/hidp.ko'————————————————————————————————————————————————————[只要这几个就够了,不安装smoke3.10.107内核里的BCM蓝牙驱动root@tegra-ubuntu:/home/ubuntu# lsmodModule Size Used byhidp 14086 0 bnep 11864 0 bpa10x 4858 0 bfusb 8138 0 bcm203x 3277 0 hci_uart 26740 0 btusb 16048 0 rfcomm 46451 0 rfkill_gpio 2300 0 bluetooth 279879 11 bnep,hidp,bfusb,btusb,bpa10x,hci_uart,rfcomm,brcm_hci_ldisc,bcm203x---------------------------------------------------------------------------------------------------------[BCM4356]http://b8807053.pixnet.net/blog/post/347831957-bluez%E7%9B%B8%E9%97%9C%E7%9A%84%E5%90%84%E7%A8%AEtools%E7%9A%84%E4%BD%BF%E7%94%A8Bluez相關的各種tools的使用1. 安裝套件sudo apt-get update#sudo apt-get install bluetooth bluez bluez-hcidump 其中 bluetooth 套件包含了底層的 hci (host controller interface) 和 sdp (service discovery protocol) 工具。而 bluez 則是官方藍牙軟體協定 (Official Linux Bluetooth protocol stack)，屬於較上層。bluez 的網頁如下: http://www.bluez.org/------------------------------------------------------root@tegra-ubuntu:/home/ubuntu# proxychains apt-get install bluetooth bluez bluez-hcidumpProxyChains-3.1 (http://proxychains.sf.net)Reading package lists... DoneBuilding dependency tree Reading state information... Donebluez is already the newest version.bluez set to manually installed.The following NEW packages will be installed: bluetooth bluez-gstreamer bluez-hcidump...Selecting previously unselected package bluetooth.(Reading database ... 134589 files and directories currently installed.)Preparing to unpack .../bluetooth_4.101-0ubuntu13_all.deb ...Unpacking bluetooth (4.101-0ubuntu13) ...Selecting previously unselected package bluez-gstreamer.Preparing to unpack .../bluez-gstreamer_4.101-0ubuntu13_armhf.deb ...Unpacking bluez-gstreamer (4.101-0ubuntu13) ...Selecting previously unselected package bluez-hcidump.Preparing to unpack .../bluez-hcidump_2.5-1_armhf.deb ...Unpacking bluez-hcidump (2.5-1) ...Processing triggers for man-db (2.6.7.1-1ubuntu1) ...Setting up bluetooth (4.101-0ubuntu13) ...Setting up bluez-gstreamer (4.101-0ubuntu13) ...Setting up bluez-hcidump (2.5-1) ...root@tegra-ubuntu:/home/ubuntu#---------------------------------------------------#不要安装root@tegra-ubuntu:/home/ubuntu# apt-get install bluez-utils [无效!!!],会使hciconfig无效,重启回复正常**************************************************************开机插上CSR8510模块等一会gnome 蓝牙设置窗口自动识别配对B.O.W需要按住Fn+Delete初始化了再配对------------------测试--------------------------------------------------------------------------------------------------root@tegra-ubuntu:/etc# dmesg | grep -i blue[ 23.330606] init: bluetooth main process (1080) terminated with status 1[ 23.330650] init: bluetooth main process ended, respawning[ 24.463328] Bluetooth: Core ver 2.16[ 24.463410] Bluetooth: HCI device and connection manager initialized[ 24.463447] Bluetooth: HCI socket layer initialized[ 24.463466] Bluetooth: L2CAP socket layer initialized[ 24.463498] Bluetooth: SCO socket layer initialized[ 24.490456] Bluetooth: RFCOMM TTY layer initialized[ 24.490497] Bluetooth: RFCOMM socket layer initialized[ 24.490506] Bluetooth: RFCOMM ver 1.11[ 24.529249] Bluetooth: HCI UART driver ver 2.2[ 24.529261] Bluetooth: HCI H4 protocol initialized[ 24.529268] Bluetooth: HCI BCSP protocol initialized[ 24.529275] Bluetooth: HCILL protocol initialized[ 24.529281] Bluetooth: HCIATH3K protocol initialized[ 24.529287] Bluetooth: HCI Three-wire UART (H5) protocol initialized[ 24.566516] Bluetooth: BNEP (Ethernet Emulation) ver 1.3[ 24.566533] Bluetooth: BNEP filters: protocol multicast[ 24.566570] Bluetooth: BNEP socket layer initialized[ 24.578784] Bluetooth: HIDP (Human Interface Emulation) ver 1.2[ 24.578827] Bluetooth: HIDP socket layer initialized[ 56.791738] input: B.O.W as /devices/platform/tegra-ehci.0/usb2/2-1/2-1:1.0/bluetooth/hci0/hci0:70/input2[ 56.792059] hid-generic 0005:05AC:023C.0001: input: BLUETOOTH HID v0.01 Keyboard [B.O.W] on 00:1a:7d:da:71:11------------------------------------------------------------- document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>linux</category>
      </categories>
  </entry>
  <entry>
    <title><![CDATA[小米平板1-ubuntu系统_刷机篇]]></title>
    <url>%2F2019%2F07%2F19%2Fubuntu-shuaji%2F</url>
    <content type="text"><![CDATA[半年前博主在学习C语言语法，无奈时间较零散，砖头书不能随身带，就用se看电子书，渐渐想随时敲敲代码跑跑程序（光看书实在是太无聊了），与此同时，也在鼓捣linux（其实那时手头连一个运行linux的电脑都没），于是就开始选设备，从树梅派挑到nexus7再到chromebook，额。。。买东西真累，想起手头有块闲置的一代小米平板，先是用termux凑合，再是安装Kali，用ssh登录本地端口，在安卓环境并行运行linux，emmm，没有GUI的linux真难受。。。最后求助万能的google，找到4PDA论坛mocha大神从英伟达tegra-k1开发板上移植的ubuntu14.04项目地址，成功刷入小米平板！ 准备工作解BL琐 想要刷入第三方ROM，先要刷入第三方rec； 想要刷入第三方rec，先要解Bootloader琐。 按照官方操作即可：解锁小米手机 刷TWRP和multirom recovery工具链接提取码: qc15 解BL琐后，将上述链接下载的所有文件(不用解压）放在平板根目录，开机按“音量+”和电源键，进入MIUI原厂recovery,刷入miuies_TWRP_MiPad_2.7.1_signed.zip待刷入完成，重启到recovery，进入TWRP-v2.7.1界面，该recovery画面不能填充整个屏幕，稍后咱刷入multirom_TWRP_3.1.1-0.img即可解决。 *注意: v3.0.3必须由v2.7.1升级，不能一次刷入 在TWRP-v2.7.1界面，点击”Install”，进入文件目录，找到sd_card文件夹，点击进入，此文件夹即是平板内部flash储存的根目录。找到boot-kexec-miuiSmoke6.12.22.zip，点击此文件，右滑刷入，待刷入完成。再找一找multirom_TWRP_3.1.1-0.img发现并没有，点击右下脚的zip方框，选择img，再找下，即可找到，点击此文件，右滑刷入，待刷入完成，点击“reboot to system”，重启到系统 若一切正常，开机会出现multirom多重引导，点击倒计时即可手动选择启动系统，点击第一个系统，即可正常进入当前系统。 若仅想用MultiRom功能，仅到此步即可。 阴差阳错 博主之前到这一步时，还保留了MIUI系统，刷ubuntu系统之前只进行了三清，重启进入ubuntu系统，一开始是正常的linux启动4只小企鹅（对应tegra-k1四个Cortex-A15），一条条messages滚过后，就悲剧了，卡在mount: mounting不动了，重刷了几次都是如此！4PDA论坛也有一个会员遇到同样的问题，然而大佬们并不鸟他… 郁闷了几天，准备放弃，心想要是Linux整不了就刷个CN系统算了，查了查google，发现米板1可刷LineageOS-14，按照论坛的教程，先四清，刷lineageOS之前，需要合并MIUI的两个system分区成一个，合并分区后，成功刷入，配置了一下google全家桶，lineageOS居然该死的甜美。 emmm…没有用上原生linux还是不爽，再试试如何？又刷了一次ubuntu，重启，居然跳过之前卡住的mount: mounting的部分，成功进入ubuntu桌面，触屏可用，OTG插上键鼠可用，OK搞定 MiPad Mocha 合并分区教程/有删改论坛原文 将MIUI系统分区合并至1.2GB的具体步骤： 1.下载 Repartition_MI_Pad_1_2GB_zardMi3.zip 和 Repartition_Stock-Partition_MI_Pad_zardMi3.zip (上文度云链接里有） 2.拷入你的小米平板根目录中； 3.清除Cache,Data,System和Dalvik Cache的数据。（重启到twrp选择”wipe”,勾选以下项后，滑动条，实现四清） 4.刷入Repartition_MI_Pad_1_2GB_zardMi3.zip 5.将 lineageOS-14刷入,若你想用google服务框架，在1步下载Gapps在此步刷入即可 6.重启至LineageOS系统 7.你可以使用Google PlayStore里的DiskInfo，System Partitions，或者Titanium Backup来确认你的系统一分区大小。（总大小是1.21GB，剩余空间是688MB） ##译者：这里我的数据是总大小1.29GB，剩余空间是733MB 刷入Linux4TegraR241.mromMultiRom 下载4PDA项目原文置顶链接的Google盘的”02.05.2017 L4T R24.1” *注意：不要下03.12.2018版本的，这个版本我刷入过，触摸和OTG都不能用，开机只启动一个核心 拷贝该文件到平版根目录 重启到TWRP，点击右上角三条横线，进入整合到TWRP的MultiRom刷机界面，点击”add” 选择内部flash储存，如图： 刷入，需要等待10分钟左右，成功刷入如图： 重启，点击multirom多重引导界面出现的第二个系统即可启动linux： 等待进入ubuntu桌面即可，赶紧用OTG连接键鼠配置一下! ubuntu系统_配置篇 document.querySelectorAll('.github-emoji') .forEach(el => { if (!el.dataset.src) { return; } const img = document.createElement('img'); img.style = 'display:none !important;'; img.src = el.dataset.src; img.addEventListener('error', () => { img.remove(); el.style.color = 'inherit'; el.style.backgroundImage = 'none'; el.style.background = 'none'; }); img.addEventListener('load', () => { img.remove(); }); document.body.appendChild(img); });]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
</search>
