---
title: 小米平板1-ubuntu系统_刷机篇
date: 2019-07-19 12:19:54
categories: linux
tags: linux
keywords:
description: 米板1代闲置？手把手教你打造linux平板，让老黄的核弹继续发挥余热，连载！！！
---

半年前博主在学习C语言语法，无奈时间较零散，砖头书不能随身带，就用se看电子书，渐渐想随时敲敲代码跑跑程序（光看书实在是太无聊了），与此同时，也在鼓捣linux（其实那时手头连一个运行linux的电脑都没），于是就开始选设备，从树梅派挑到nexus7再到chromebook，额。。。买东西真累，想起手头有块闲置的一代小米平板，先是用termux凑合，再是安装Kali，用ssh登录本地端口，在安卓环境并行运行linux，emmm，没有GUI的linux真难受。。。最后求助万能的google，找到4PDA论坛mocha大神从英伟达tegra-k1开发板上移植的ubuntu14.04[项目地址](https://4pda.ru/forum/index.php?showtopic=821143)，成功刷入小米平板！

![日常使用的ubuntu桌面](ubuntu-shuaji/0.png)
## 准备工作

### 解BL琐

  想要刷入第三方ROM，先要刷入第三方rec；
  想要刷入第三方rec，先要解Bootloader琐。
  按照官方操作即可：[解锁小米手机](http://www.miui.com/unlock/index.html)

### 刷TWRP和multirom
  [recovery工具链接](https://pan.baidu.com/s/18b-AI4UijXQeEea_Zrd09g)提取码: qc15
  解BL琐后，将上述链接下载的所有文件(不用解压）放在平板根目录，开机按“音量+”和电源键，进入MIUI原厂recovery,刷入miuies_TWRP_MiPad_2.7.1_signed.zip
待刷入完成，重启到recovery，进入TWRP-v2.7.1界面，该recovery画面不能填充整个屏幕，稍后咱刷入multirom_TWRP_3.1.1-0.img即可解决。
  *注意: v3.0.3必须由v2.7.1升级，不能一次刷入

  在TWRP-v2.7.1界面，点击"Install"，进入文件目录，找到sd_card文件夹，点击进入，此文件夹即是平板内部flash储存的根目录。找到boot-kexec-miuiSmoke6.12.22.zip，点击此文件，右滑刷入，待刷入完成。再找一找multirom_TWRP_3.1.1-0.img发现并没有，点击右下脚的zip方框，选择img，再找下，即可找到，点击此文件，右滑刷入，待刷入完成，点击“reboot to system”，重启到系统

  若一切正常，开机会出现multirom多重引导，点击倒计时即可手动选择启动系统，点击第一个系统，即可正常进入当前系统。
![刷入lineageOS和ubuntu后的multirom开机引导界面](ubuntu-shuaji/2.jpg)

  若仅想用MultiRom功能，仅到此步即可。

### 阴差阳错
  博主之前到这一步时，还保留了MIUI系统，刷ubuntu系统之前只进行了三清，重启进入ubuntu系统，一开始是正常的linux启动4只小企鹅（对应tegra-k1四个Cortex-A15），一条条messages滚过后，就悲剧了，卡在mount: mounting不动了，重刷了几次都是如此！4PDA论坛也有一个会员遇到同样的问题，然而大佬们并不鸟他...
![linux开机卡住的地方](ubuntu-shuaji/4.jpg)
  郁闷了几天，准备放弃，心想要是Linux整不了就刷个CN系统算了，查了查google，发现米板1可刷LineageOS-14，按照论坛的教程，先四清，刷lineageOS之前，需要合并MIUI的两个system分区成一个，合并分区后，成功刷入，配置了一下google全家桶，lineageOS居然该死的甜美。

  emmm...没有用上原生linux还是不爽，再试试如何？又刷了一次ubuntu，重启，居然跳过之前卡住的mount: mounting的部分，成功进入ubuntu桌面，触屏可用，OTG插上键鼠可用，OK搞定

### MiPad Mocha 合并分区教程/有删改
[论坛原文](http://www.miui.com/thread-7412054-1-1.html)
  将MIUI系统分区合并至1.2GB的具体步骤：
      1.下载 Repartition_MI_Pad_1_2GB_zardMi3.zip 和 Repartition_Stock-Partition_MI_Pad_zardMi3.zip (上文度云链接里有）
      2.拷入你的小米平板根目录中；
      3.清除Cache,Data,System和Dalvik Cache的数据。（重启到twrp选择"wipe",勾选以下项后，滑动条，实现四清）
![multirom_twrp的四清勾选](ubuntu-shuaji/3.jpg)
      4.刷入Repartition_MI_Pad_1_2GB_zardMi3.zip
      5.将 lineageOS-14刷入,若你想用google服务框架，在1步下载Gapps在此步刷入即可
      6.重启至LineageOS系统
      7.你可以使用Google PlayStore里的DiskInfo，System Partitions，或者Titanium Backup来确认你的系统一分区大小。（总大小是1.21GB，剩余空间是688MB）                   ##译者：这里我的数据是总大小1.29GB，剩余空间是733MB

## 刷入Linux4TegraR241.mrom

### MultiRom
  下载4PDA项目原文置顶链接的Google盘的"02.05.2017 L4T R24.1"
  *注意：不要下03.12.2018版本的，这个版本我刷入过，触摸和OTG都不能用，开机只启动一个核心
  拷贝该文件到平版根目录
  重启到TWRP，点击右上角三条横线，进入整合到TWRP的MultiRom刷机界面，点击"add"
  选择内部flash储存，如图：
![](ubuntu-shuaji/11.jpg)
  刷入，需要等待10分钟左右，成功刷入如图：
![](ubuntu-shuaji/5.jpg)
  重启，点击multirom多重引导界面出现的第二个系统即可启动linux：
![](ubuntu-shuaji/6.jpg)
  等待进入ubuntu桌面即可，赶紧用OTG连接键鼠配置一下!

## ubuntu系统_配置篇
![](ubuntu-shuaji/10.jpg)
